{% extends "base.html" %}

{% block title %}Filmes - ReviewHub{% endblock %}

{% block content %}
<div class="movies-header">
    <h1>Filmes Populares</h1>
    <p class="subtitle">Selecione um filme para avaliar</p>
</div>

<form method="get" class="genre-filter">
    <select name="genero" onchange="this.form.submit()">
        <option value="">Todos os gÃªneros</option>

        {% for genero in generos %}
            <option value="{{ genero['nome'] }}"
            {% if selected_genero == genero['nome'] %}selected{% endif %}>
            {{ genero['nome'] }}
            </option>
        {% endfor %}
    </select>
</form>

<div class="movies-grid">
    {% for movie in movies %}
    <a href="{{ url_for('movies.details', id=movie.id) }}" class="movie-card">
        <div class="movie-poster">
            <img src="{{ movie.imagem }}" alt="{{ movie.nome }}" loading="lazy">
            <div class="movie-overlay"></div>
        </div>
    </a>
    {% endfor %}
</div>
{% endblock %}
